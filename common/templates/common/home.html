{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>OLMS</title>

    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <style>
    /* Fly-in from left */
    @keyframes flyInLeft {
    0% { opacity: 0; transform: translateX(-80px); }
    100% { opacity: 1; transform: translateX(0); }
    }
    .animate-from-left {
    animation: flyInLeft 1s ease forwards;
    }

    /* Fly-in from right */
    @keyframes flyInRight {
    0% { opacity: 0; transform: translateX(80px); }
    100% { opacity: 1; transform: translateX(0); }
    }
    .animate-from-right {
    animation: flyInRight 1s ease forwards;
    }
    </style>





    <style>
        .fade-in {
            animation: fadeIn 1.4s ease forwards;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(25px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>

<body class="bg-[#f7f2e9] text-[#4a3728]">

    <!-- ====================== HEADER ====================== -->
    

<header class="bg-[linear-gradient(to_bottom,_black_0%,_#2e1f16_100%)]
               shadow-[0_4px_10px_rgba(0,0,0,0.6)]">
    <nav class="max-w-7xl mx-auto px-6 py-3 flex items-center justify-between">

        <img src="{% static 'logo.jpg' %}" alt="Logo"
            class="h-20 w-20 mr-3 rounded-lg border border-[#d7c1a3]" />

        <h1 class="text-2xl font-bold text-[#f5e9d3]">
            OLMS (Online Library Management System)
        </h1>

        <div class="space-x-4">

            <a href="{% url 'register' %}"
               class="px-4 py-2 text-sm font-medium 
                      bg-[#7a5c3a] text-[#f5e9d3]
                      rounded-xl shadow hover:bg-[#6a4f30] transition">
                Register
            </a>

            <a href="{% url 'student_login' %}"
               class="px-4 py-2 text-sm font-medium 
                      border border-[#d7c1a3] text-[#f5e9d3]
                      rounded-xl hover:bg-[#7a5c3a] transition">
                Login
            </a>

        </div>
    </nav>
</header>





    <!-- ====================== SOFTER + LARGER HERO SECTION ====================== -->
    {% comment %} <section class="relative w-full h-[480px] md:h-[600px] overflow-hidden rounded-b-3xl shadow-lg"> {% endcomment %}
        <section class="relative w-full h-[350px] md:h-[450px] 
                overflow-hidden  shadow-lg">
        <!-- Slider images -->
        <div id="heroSlider" class="w-full h-full relative">
            <img src="{% static 'images/hero1.jpg' %}" class="hero-slide absolute inset-0 w-full h-full object-cover opacity-100 transition-opacity duration-700">
            <img src="{% static 'images/hero2.jpg' %}" class="hero-slide absolute inset-0 w-full h-full object-cover opacity-0 transition-opacity duration-700">
            <img src="{% static 'images/hero3.jpg' %}" class="hero-slide absolute inset-0 w-full h-full object-cover opacity-0 transition-opacity duration-700">
        </div>

        <!-- Softer & bigger translucent brown overlay -->
        <div class="absolute inset-0 
                    bg-[rgba(60,40,25,0.35)] md:bg-[rgba(60,40,25,0.28)]
                    flex flex-col items-center justify-center
                    text-center px-4 backdrop-brightness-90">

            <h2 class="text-4xl md:text-6xl font-bold text-white mb-6 fade-in drop-shadow-2xl">
                Welcome to OLMS
            </h2>

            <p class="text-lg md:text-2xl text-gray-100 max-w-2xl fade-in drop-shadow mb-10">
                A modern & seamless library management experience.
            </p>

            <a href="#books"
                class="px-7 py-3 bg-[#9b7d55] text-[#fdf7ec] rounded-xl 
                       text-base md:text-lg shadow-lg
                       hover:bg-[#8a6d49] transition fade-in">
                Explore Books
            </a>
        </div>
    </section>

    <script>
        let currentSlide = 0;
        const slides = document.querySelectorAll(".hero-slide");

        setInterval(() => {
            slides[currentSlide].style.opacity = 0;
            currentSlide = (currentSlide + 1) % slides.length;
            slides[currentSlide].style.opacity = 1;
        }, 4000);
    </script>



    <!-- ====================== FEATURED BOOKS ====================== -->
    

<section id="books"
    class="w-full py-2
           mt-[-40px]
           bg-[radial-gradient(circle_at_center,_#4b3621_40%,_#2e1f16_70%,_black_100%),linear-gradient(to_bottom,_transparent_50%,_#f7f2e9_100%)]
           bg-blend-overlay
           shadow-[0_4px_10px_rgba(0,0,0,0.6)]
           flex flex-col items-center justify-start">

    <!-- ★ Updated Featured Books Title Image -->
    <img src="{% static 'images/featured_books.png' %}"
         alt="Featured Books"
         class="mx-auto mb-4
                w-[650px]     <!-- customize -->
                h-[300px]     <!-- customize -->
                max-w-none
                max-h-none
                drop-shadow-[0_0_10px_rgba(0,0,0,0.8)]">




    <div class="max-w-7xl mx-auto px-6">
        <div class="overflow-hidden rounded-xl bg-transparent p-4">
            <div id="bookSlider" class="flex transition-transform duration-700">

                {% for book in books %}
                <div class="w-1/2 md:w-1/4 px-4 flex-shrink-0">
                    <div class="bg-[#3a2c22] rounded-xl shadow-lg border-2 border-[#c9a86a]
                                p-4 text-center hover:shadow-xl hover:-translate-y-1 transition">

                        <div class="h-60 bg-[#4a3728] flex items-center justify-center 
                                    rounded-lg overflow-hidden shadow-sm border-2 border-[#c9a86a]">
                            <img src="{% if book.cover %}{{ book.cover.url }}{% else %}{% static placeholder %}{% endif %}"
                                 class="max-h-full max-w-full object-contain" />
                        </div>

                        <h4 class="mt-3 font-semibold text-[#e3c79c] text-sm">
                            {{ book.Book_name }}
                        </h4>

                        <p class="text-xs text-[#c9b9a6]">
                            {{ book.Authors_name }}
                        </p>
                    </div>
                </div>
                {% endfor %}

            </div>
        </div>
    </div>

</section>



    <script>
        const slider = document.getElementById("bookSlider");

        function rotateBooks() {
            const firstBook = slider.children[0];

            slider.style.transform = "translateX(-25%)";

            setTimeout(() => {
                slider.appendChild(firstBook);
                slider.style.transition = "none";
                slider.style.transform = "translateX(0)";

                setTimeout(() => {
                    slider.style.transition = "transform 0.7s";
                }, 50);
            }, 700);
        }

        setInterval(rotateBooks, 4000);
    </script>
<!-- ====================== FLOATING BACKGROUND CONTAINER ====================== -->
<div class="relative w-full">

    <!-- Background Image with Floating Effect -->
    <div class="absolute inset-0 overflow-hidden">
        <img src="{% static 'images/bcc.png' %}" 
             alt="Background" 
             class="w-full h-full object-cover opacity-60 animate-floatBG">
    </div>

    <!-- Optional Overlay for readability -->
    <div class="absolute inset-0 bg-[#f7f2e9]/30"></div>
    
<!-- ====================== NEW ARRIVALS ====================== -->
<section class="w-full py-2 mt-4 relative">


    <div class="relative z-10">

    <div class="text-center">
        <h2 class="text-4xl font-bold text-[#4a3728] mb-4 inline-block 
               border-b-4 border-[#4a3728] pb-1">
        New Arrivals
        </h2>
    </div>
  
        



        <div id="arrivalContainer" class="relative max-w-7xl mx-auto h-[350px] overflow-hidden"> 
    
    


            {% for book in new_arrivals %}
            <!-- Each Slide -->
            <div class="arrival-slide absolute inset-0 flex items-center justify-between opacity-0 pointer-events-none transition-opacity duration-700">
            
                {% comment %} <!-- Description (left) -->
                <div class="w-3/4 pl-10 animate-from-left">
                    <p class="text-[#6f4e37] text-2xl leading-relaxed relative">
                        <span class="quote animate-quote">“</span>
                        {{ book.description|default:"An Awesome book to read!!!" }}
                        <span class="quote animate-quote">”</span>
                    </p> 


                </div>
                    <img src="{% static 'images/hh32.png' %}"
                     alt="New Arrivals"> {% endcomment %}
                <div class="relative flex items-start">

    <!-- Description (Left) -->
    <div class="w-3/4 pl-10 animate-from-left z-10 leading-[1.3] relative m-0 p-0">
        <p class="text-[#6f4e37] text-2xl leading-relaxed relative">
            <span class="quote animate-quote">“</span>
            {{ book.description|default:"An Awesome book to read!!! Thrilling, Inspiring and Breathtaking..." }}
            <span class="quote animate-quote">”</span>
        </p>

        <!-- Image at the end of description -->
        <img src="{% static 'images/hh32.png' %}" 
             alt="New Arrivals"
             class="absolute right-[-50px] bottom-0 w-[250px] h-auto z-20 pointer-events-none animate-wiggle-settle">
    </div>
    

</div>


                <!-- Book Cover (right) -->
                <div class="w-1/2 flex justify-end pr-10 animate-from-right">
                    <img src="{% if book.cover %}{{ book.cover.url }}{% else %}{% static placeholder %}{% endif %}"
                         class="h-[260px] w-auto object-contain shadow-none border-none outline-none" />
                </div>

            </div>
            {% endfor %}

        </div>

    </div>
</section> 




<style>
/* Pop animation on slide appearance */
@keyframes quotePop {
    0% { transform: scale(0.5); opacity: 0; }
    50% { transform: scale(1.2); opacity: 1; }
    100% { transform: scale(1); opacity: 1; }
}

/* Floating effect */
@keyframes float {
    0% { transform: translateY(0); }
    50% { transform: translateY(-5px); }
    100% { transform: translateY(0); }
}

.quote {
    color: #d6b795;
    font-size: 4.5rem; 
    margin: 0 6px;
    display: inline-block;
    vertical-align: middle; }


.animate-quote {
    animation: quotePop 0.8s ease forwards, float 3s ease-in-out 0.8s infinite;
}
@keyframes wiggle-settle {
  0% {
    transform: translate(0,0) rotate(0deg);
  }
  10% {
    transform: translate(-10px,5px) rotate(-5deg);
  }
  20% {
    transform: translate(8px,-8px) rotate(7deg);
  }
  30% {
    transform: translate(-6px,4px) rotate(-4deg);
  }
  40% {
    transform: translate(4px,-6px) rotate(3deg);
  }
  50% {
    transform: translate(-2px,2px) rotate(-2deg);
  }
  60% {
    transform: translate(1px,-1px) rotate(1deg);
  }
  100% {
    transform: translate(0,0) rotate(0deg);
  }
}

.animate-wiggle-settle {
  animation: wiggle-settle 6s ease-in-out forwards infinite;
}

</style>

<script>
let arrivalIndex = 0;
const arrivalSlides = document.querySelectorAll(".arrival-slide");

function showArrivalSlide() {
    arrivalSlides.forEach((slide, i) => {
        if(i === arrivalIndex){
            slide.style.opacity = "1";
            slide.style.pointerEvents = "auto";

            // Retrigger quote pop animation
            slide.querySelectorAll('.animate-quote').forEach(q => {
                q.style.animation = 'none';
                q.offsetHeight; // force reflow
                q.style.animation = 'quotePop 0.8s ease forwards, float 4s ease-in-out 0.8s infinite';
            });

        } else {
            slide.style.opacity = "0";
            slide.style.pointerEvents = "none";
        }
    });

    arrivalIndex = (arrivalIndex + 1) % arrivalSlides.length;
}

// Start slideshow
showArrivalSlide();
setInterval(showArrivalSlide, 6000);
</script>



    <!-- ====================== MODULES ====================== -->
    <!-- ====================== MODULES ====================== -->
<section class="max-w-7xl mx-auto px-6 py-10 relative z-10">
    <div class="grid md:grid-cols-2 gap-10 text-center">

        <div class="bg-white rounded-xl shadow-md p-8 border border-[#dfd3c2]
                    hover:shadow-xl hover:-translate-y-1 transition">
            <h3 class="text-xl font-semibold mb-3">Student Module</h3>
            <p class="text-[#7c6a59] text-sm mb-4 max-w-xs mx-auto">
                Register, request books, view reservations & more.
            </p>
            <a href="{% url 'register' %}"
                class="px-5 py-2 bg-[#9b7d55] text-white rounded-lg hover:bg-[#876a48] transition">
                Register
            </a>
        </div>

        <div class="bg-white rounded-xl shadow-md p-8 border border-[#dfd3c2]
                    hover:shadow-xl hover:-translate-y-1 transition">
            <h3 class="text-xl font-semibold mb-3">Librarian Module</h3>
            <p class="text-[#7c6a59] text-sm mb-4 max-w-xs mx-auto">
                Approve reservations and manage library operations.
            </p>
            <a href="{% url 'lib_login' %}"
                class="px-5 py-2 bg-[#9b7d55] text-white rounded-lg hover:bg-[#876a48] transition">
                Login
            </a>
        </div>

    </div>
</section>


<style>
/* Floating animation for background */
@keyframes floatBG {
    0% { transform: translateY(0px); }
    50% { transform: translateY(-15px); }
    100% { transform: translateY(0px); }
}
.animate-floatBG {
    animation: floatBG 10s ease-in-out infinite;
}
</style>


    <!-- ====================== FOOTER ====================== -->
<footer class="bg-[#1a1a1a] py-6 border-t border-[#9b7d55]/60 relative z-10 mt-12">
    <div class="max-w-7xl mx-auto px-6 text-center text-sm text-gray-300">
        © 2025 OLMS — All Rights Reserved.
    </div>
</footer>


</body>
</html>
